!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactStripe={},e.React)}(this,(function(e,t){"use strict";function n(){}function r(){}r.resetWarningCache=n;var o=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports=function(){function e(e,t,n,r,o,s){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==s){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:n};return o.PropTypes=o,o}()})),s=o.func,c=o.object,u=o.any,a=o.string;const p=e=>null!==e&&"object"==typeof e,i=(e,t)=>{if(!p(e)||!p(t))return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;const r="[object Object]"===Object.prototype.toString.call(e);if(r!==("[object Object]"===Object.prototype.toString.call(t)))return!1;if(!r&&!n)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const c={};for(let e=0;e<o.length;e+=1)c[o[e]]=!0;for(let e=0;e<s.length;e+=1)c[s[e]]=!0;const u=Object.keys(c);if(u.length!==o.length)return!1;const a=e,l=t;return u.every(e=>i(a[e],l[e]))},l=e=>{const n=t.useRef(e);return t.useEffect(()=>{n.current=e},[e]),n.current},f=e=>{if(null===e||p(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;var t;throw new Error("Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},m=e=>{if((e=>p(e)&&"function"==typeof e.then)(e))return{tag:"async",stripePromise:Promise.resolve(e).then(f)};const t=f(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},y=t.createContext(null);y.displayName="ElementsContext";const d=({stripe:e,options:n,children:r})=>{const o=t.useRef(!1),s=t.useRef(!0),c=t.useMemo(()=>m(e),[e]),[u,a]=t.useState(()=>({stripe:null,elements:null})),p=l(e),f=l(n);return null!==p&&(p!==e&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),i(n,f)||console.warn("Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.")),o.current||("sync"===c.tag&&(o.current=!0,a({stripe:c.stripe,elements:c.stripe.elements(n)})),"async"===c.tag&&(o.current=!0,c.stripePromise.then(e=>{e&&s.current&&a({stripe:e,elements:e.elements(n)})}))),t.useEffect(()=>()=>{s.current=!1},[]),t.createElement(y.Provider,{value:u},r)};d.propTypes={stripe:u,options:c};const h=e=>((e,t)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${t} in an <Elements> provider.`);return e})(t.useContext(y),e),E=({children:e})=>e(h("mounts <ElementsConsumer>"));E.propTypes={children:s.isRequired};const g=e=>{const n=t.useRef(e);return t.useEffect(()=>{n.current=e},[e]),(...e)=>{n.current&&n.current(...e)}},b=e=>{if(!p(e))return{};const{paymentRequest:t,...n}=e;return n},R=()=>{},C=(e,n)=>{const r=`${o=e,o.charAt(0).toUpperCase()+o.slice(1)}Element`;var o;const u=n?e=>{h(`mounts <${r}>`);const{id:n,className:o}=e;return t.createElement("div",{id:n,className:o})}:({id:n,className:o,options:s={},onBlur:c=R,onFocus:u=R,onReady:a=R,onChange:p=R,onClick:l=R})=>{const{elements:f}=h(`mounts <${r}>`),m=t.useRef(null),y=t.useRef(null),d=g(a),E=g(c),C=g(u),j=g(l),v=g(p);t.useLayoutEffect(()=>{if(null==m.current&&f&&null!=y.current){const t=f.create(e,s);m.current=t,t.mount(y.current),t.on("ready",()=>d(t)),t.on("change",v),t.on("blur",E),t.on("focus",C),t.on("click",j)}});const O=t.useRef(s);return t.useEffect(()=>{O.current&&O.current.paymentRequest!==s.paymentRequest&&console.warn("Unsupported prop change: options.paymentRequest is not a customizable property.");const e=b(s);0===Object.keys(e).length||i(e,b(O.current))||m.current&&(m.current.update(e),O.current=s)},[s]),t.useEffect(()=>()=>{m.current&&m.current.destroy()},[]),t.createElement("div",{id:n,className:o,ref:y})};return u.propTypes={id:a,className:a,onChange:s,onBlur:s,onFocus:s,onReady:s,onClick:s,options:c},u.displayName=r,u.__elementType=e,u},j="undefined"==typeof window,v=C("card",j),O=C("cardNumber",j),T=C("cardExpiry",j),k=C("cardCvc",j),x=C("iban",j),P=C("idealBank",j),_=C("paymentRequestButton",j);e.CardCvcElement=k,e.CardElement=v,e.CardExpiryElement=T,e.CardNumberElement=O,e.Elements=d,e.ElementsConsumer=E,e.IbanElement=x,e.IdealBankElement=P,e.PaymentRequestButtonElement=_,e.useElements=()=>{const{elements:e}=h("calls useElements()");return e},e.useStripe=()=>{const{stripe:e}=h("calls useStripe()");return e},Object.defineProperty(e,"__esModule",{value:!0})}));
